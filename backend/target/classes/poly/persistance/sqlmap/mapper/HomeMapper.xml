<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="poly.persistance.mapper.IHomeMapper">
    <select id="userLogin" parameterType="UserDTO" resultType="UserDTO">
		SELECT
			USER_NO AS user_no,
			USER_ID AS user_id,
			USER_PASSWORD AS user_password,
			USER_NAME AS user_name,
			USER_EMAIL AS user_email,
			USER_PHONE AS user_phone
		FROM
			USER_INFO
		WHERE
			USER_ID = #{user_id}
		AND
			USER_PASSWORD = #{user_password}
	</select>

	<select id="idCheck" parameterType="String" resultType="Integer">
		SELECT COUNT(*)
		FROM USER_INFO
		WHERE
			USER_ID = #{userId}
	</select>

	<insert id="userReg" parameterType="UserDTO">
		INSERT
		INTO
		USER_INFO
		(
			USER_ID,
			USER_PASSWORD,
			USER_NAME,
			USER_EMAIL,
			USER_PHONE,
			REG_DT,
			REG_NO,
			CHG_NO
		)
		VALUES
		(
			#{user_id},
			#{user_password},
			#{user_name},
			#{user_email},
			#{user_phone},
			CURRENT_TIMESTAMP,
			#{user_id},
			#{user_id}
		)
	</insert>

</mapper>